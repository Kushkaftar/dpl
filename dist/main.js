!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=(e,t)=>{const n=document.createElement("div");n.style.cssText="font-size: 2.2rem;",t.appendChild(n);(e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(e).then(e=>{if(200!==e.status)throw new Error("status not 200");n.textContent="Thanks!",setTimeout(()=>n.remove(),5e3)}).catch(e=>(e=>{n.textContent="что-то пошло не так...",console.error(e),setTimeout(()=>n.remove(),5e3)})(e))};var r=(e,t={})=>{e.preventDefault(),console.log(e);let n=e.target,r=n.querySelectorAll("input");console.log(r);new FormData(n).forEach((e,n)=>t[n]=e),o(t,n),r.forEach(e=>e.value="")};var c=(e,t={})=>{const n=()=>{e.removeEventListener("click",o),e.style.display="none"},o=e=>{let t=e.target;t.classList.contains("popup-close")&&n(),t.closest(".popup-content")||n()};e.addEventListener("click",o)};var s=()=>{const e=document.querySelector(".popup-discount"),t=e.querySelector("form"),n=document.querySelectorAll(".sentence-btn");t.addEventListener("submit",e=>r(e)),n.forEach(t=>{t.addEventListener("click",()=>{e.style.display="block",c(e)})})};var l=()=>{const e=document.querySelector(".popup-consultation"),t=document.querySelector(".consultation-btn"),n=document.querySelector(".director-form"),o=e.querySelector("form"),s=document.getElementById("director-form");let l={};n.addEventListener("submit",e=>e.preventDefault());const a=()=>{e.style.display="block",""!==s.value&&(l.user_quest=s.value),c(e,l),t.removeEventListener("click",()=>a())};t.addEventListener("click",()=>a()),o.addEventListener("submit",e=>r(e,l))};var a=()=>{const e=document.querySelector(".popup-check"),t=e.querySelector("form"),n=document.querySelector(".gauging-button");t.addEventListener("submit",e=>r(e)),n.addEventListener("click",()=>{e.style.display="block",c(e)})};var i=()=>{const e=document.querySelector(".questions"),t=document.querySelectorAll(".panel-collapse");e.addEventListener("click",e=>{e.preventDefault();let n=e.target;if(n.closest(".panel-heading")){t.forEach(e=>{e.closest(".questions")&&e.classList.contains("in")&&e.classList.remove("in")}),n.closest(".panel-heading").nextElementSibling.classList.toggle("in")}})};var u=()=>{const e=document.querySelector(".add-sentence-btn"),t=document.querySelectorAll(".shadow-block"),n=()=>{t.forEach(e=>{let t=e.parentElement;t.classList.contains("visible-sm-block")&&t.classList.remove("visible-sm-block"),t.classList.contains("hidden")&&t.classList.remove("hidden")}),e.removeEventListener("click",n),e.classList.add("hidden")};e.addEventListener("click",n)};var d=()=>{const e=document.querySelector(".constructor"),t=document.querySelectorAll(".panel-collapse"),n=document.getElementById("calc-result"),o=e.querySelector("#distance");document.querySelectorAll("a.button");let r={cameraNumb:1,firstDiameter:1.4,firstRing:1,startPrice:1e4},s=0,l=0;e.addEventListener("click",e=>{let a=e.target;const i=()=>{r.cameraNumb,n.value=r.startPrice};o.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^+0-9]/gi,""),r.distance=""!==e.target.value?e.target.value:"default",i()});const u=()=>{e.preventDefault(),t.forEach(e=>{e.closest(".constructor")&&e.classList.contains("in")&&e.classList.remove("in")})};if(a.closest(".panel-heading")){u(),a.closest(".panel-heading").nextElementSibling.classList.toggle("in")}const d=(e,t)=>{switch(t){case"1.4 метра":r[e+"Diameter"]=1.4,console.log(r);break;case"2 метра":r[e+"Diameter"]=2,console.log(r);break;case"1 штука":r[e+"Ring"]=1,console.log(r);break;case"2 штуки":r[e+"Ring"]=2,console.log(r);break;case"3 штуки":r[e+"Ring"]=3,console.log(r)}i()};if("myonoffswitch"===a.id&&(s++,r.cameraNumb=s%2==0?1:2,r.startPrice=s%2==0?1e4:15e3,console.log(r),i()),"myonoffswitch-two"===a.id&&(l++,r.bottom=l%2==0,console.log(r,l),i()),a.closest(".button")&&a.closest("a")){u(),a.closest(".panel").nextElementSibling.lastElementChild.classList.toggle("in"),1===r.cameraNumb||void 0===r.cameraNumb?(r.cameraNumb=1,r.startPrice=1e4,d("first","1.4 метра"),d("first","1 штука"),console.log(r),i(),document.getElementById("drainage").classList.add("hidden")):document.getElementById("drainage").classList.remove("hidden")}a.closest("select")&&(a.closest("#drainage")&&d("drainage",a.value),a.closest("#drainage")||d("first",a.value)),a.closest("button")&&(document.querySelector(".popup-discount").style.display="block",c(document.querySelector(".popup-discount")))})};var m=()=>{const e=document.querySelector(".main-form"),t=document.querySelector(".capture-form");e.addEventListener("submit",e=>r(e)),t.addEventListener("submit",e=>r(e))};var p=()=>{document.querySelector("body").addEventListener("input",t=>{t.target.hasAttribute("name")&&e(t)});const e=e=>{let t=e.target;switch(t.getAttribute("name")){case"user_name":t.value=e.target.value.replace(/[^А-ЯЁа-яё\s]/g,"");break;case"user_phone":e.target.value=e.target.value.replace(/[^+0-9]/gi,"")}}};(()=>{const e=document.querySelectorAll("a.call-btn"),t=document.querySelector(".popup-call");t.querySelector("form").addEventListener("submit",e=>r(e)),e.forEach(e=>{e.addEventListener("click",()=>{t.style.display="block",c(t)})})})(),s(),l(),a(),i(),u(),d(),m(),p()}]);