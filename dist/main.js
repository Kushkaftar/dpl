!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist",r(r.s=0)}([function(e,t,r){"use strict";r.r(t);var n=e=>{const t=()=>{e.removeEventListener("click",r),e.style.display="none"},r=e=>{let r=e.target;r.classList.contains("popup-close")&&t(),r.closest(".popup-content")||t()};e.addEventListener("click",r)};var a=(e,t)=>{const r=document.createElement("div");r.style.cssText="font-size: 2.2rem;",t.appendChild(r);(e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(e).then(e=>{if(200!==e.status)throw new Error("status not 200");r.textContent="Thanks!",setTimeout(()=>r.remove(),5e3)}).catch(e=>(e=>{r.textContent="что-то пошло не так...",console.error(e),setTimeout(()=>r.remove(),5e3)})(e))};var c=(e,t={})=>{e.preventDefault(),console.log(t);let r=e.target,n=r.querySelectorAll("input");new FormData(r).forEach((e,r)=>t[r]=e),a(t,r),n.forEach(e=>e.value="")};var s=e=>{const t=document.querySelector(".popup-discount"),r=t.querySelector("form"),a=document.querySelectorAll(".sentence-btn");r.addEventListener("submit",e=>c(e),e),a.forEach(e=>{e.addEventListener("click",()=>{t.style.display="block",n(t)})})};var o=()=>{const e=document.querySelector(".popup-consultation"),t=document.querySelector(".consultation-btn"),r=document.querySelector(".director-form"),a=e.querySelector("form"),s=document.getElementById("director-form");let o={};r.addEventListener("submit",e=>e.preventDefault());const i=()=>{e.style.display="block",""!==s.value&&(o.user_quest=s.value),n(e),t.removeEventListener("click",()=>i())};t.addEventListener("click",()=>i()),a.addEventListener("submit",e=>c(e,o))};var i=()=>{const e=document.querySelector(".popup-check"),t=e.querySelector("form"),r=document.querySelector(".gauging-button");t.addEventListener("submit",e=>c(e)),r.addEventListener("click",()=>{e.style.display="block",n(e)})};var l=()=>{const e=document.querySelector(".questions"),t=document.querySelectorAll(".panel-collapse");e.addEventListener("click",e=>{e.preventDefault();let r=e.target;if(r.closest(".panel-heading")){t.forEach(e=>{e.closest(".questions")&&e.classList.contains("in")&&e.classList.remove("in")}),r.closest(".panel-heading").nextElementSibling.classList.toggle("in")}})};var u=()=>{const e=document.querySelector(".add-sentence-btn"),t=document.querySelectorAll(".shadow-block"),r=()=>{t.forEach(e=>{let t=e.parentElement;t.classList.contains("visible-sm-block")&&t.classList.remove("visible-sm-block"),t.classList.contains("hidden")&&t.classList.remove("hidden")}),e.removeEventListener("click",r),e.classList.add("hidden")};e.addEventListener("click",r)};var d=()=>{const e=document.querySelector(".constructor"),t=document.querySelectorAll(".panel-collapse"),r=document.getElementById("calc-result"),a=document.querySelector(".popup-discount"),c=e.querySelector("#distance");let o={cameraNumb:1,firstDiameter:1.4,firstRing:1,startPrice:1e4},i=0,l=0;e.addEventListener("click",e=>{c.addEventListener("input",e=>{e.target.value=e.target.value.replace(/[^+0-9]/gi,""),o.distance=""!==e.target.value?e.target.value:"default",m()});let u=e.target;const d=e=>{switch(e){case 1:return 0;case 2:return 30;case 3:return 50}},m=()=>{if(1===o.cameraNumb){let e=o.firstRing?d(o.firstRing):0,t=2===o.firstDiameter?30:0,n=o.bottom?1e3:0,a=t+e;o.price=0!==a?o.startPrice+o.startPrice*a/100:o.startPrice,o.price+=n,r.value=o.price}else{let e=d(o.drainageRing),t=d(o.firstRing),n=2===o.drainageDiameter?30:0,a=2===o.firstDiameter?30:0,c=o.bottom?2e3:0,s=n+a+t+e;o.price=0!==s?o.startPrice+o.startPrice*s/100:o.startPrice,o.price+=c,r.value=o.price}},p=()=>{e.preventDefault(),t.forEach(e=>{e.closest(".constructor")&&e.classList.contains("in")&&e.classList.remove("in")})};if(u.closest(".panel-heading")){p(),u.closest(".panel-heading").nextElementSibling.classList.toggle("in"),1===o.cameraNumb?document.getElementById("drainage").classList.add("hidden"):document.getElementById("drainage").classList.remove("hidden"),m()}const g=(e,t)=>{switch(t){case"1.4 метра":o[e+"Diameter"]=1.4;break;case"2 метра":o[e+"Diameter"]=2;break;case"1 штука":o[e+"Ring"]=1;break;case"2 штуки":o[e+"Ring"]=2;break;case"3 штуки":o[e+"Ring"]=3}m()};if("myonoffswitch"===u.id&&(i++,i%2==0?(o.cameraNumb=1,o.startPrice=1e4,o.drainageDiameter&&delete o.drainageDiameter,o.drainageRing&&delete o.drainageRing):(o.cameraNumb=2,o.startPrice=15e3,o.drainageDiameter=1.4,o.drainageRing=1),m()),"myonoffswitch-two"===u.id&&(l++,o.bottom=l%2==0,m()),u.closest(".button")&&u.closest("a")){p(),u.closest(".panel").nextElementSibling.lastElementChild.classList.toggle("in"),1===o.cameraNumb||void 0===o.cameraNumb?(document.getElementById("drainage").classList.add("hidden"),m()):(document.getElementById("drainage").classList.remove("hidden"),m())}u.closest("select")&&(u.closest("#drainage")&&g("drainage",u.value),u.closest("#drainage")||g("first",u.value)),u.closest("button")&&(a.style.display="block",n(a),s(o)),u.closest("#headingThree")&&(o.bottom=!0,m())})};var m=()=>{const e=document.querySelector(".main-form"),t=document.querySelector(".capture-form");e.addEventListener("submit",e=>c(e)),t.addEventListener("submit",e=>c(e))};var p=()=>{document.querySelector("body").addEventListener("input",t=>{t.target.hasAttribute("name")&&e(t)});const e=e=>{let t=e.target;switch(t.getAttribute("name")){case"user_name":t.value=e.target.value.replace(/[^А-ЯЁа-яё\s]/g,"");break;case"user_phone":e.target.value=e.target.value.replace(/[^+0-9]/gi,"")}}};(()=>{const e=document.querySelectorAll("a.call-btn"),t=document.querySelector(".popup-call");t.querySelector("form").addEventListener("submit",e=>c(e)),e.forEach(e=>{e.addEventListener("click",()=>{t.style.display="block",n(t)})})})(),s(),o(),i(),l(),u(),d(),m(),p()}]);